<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verifitech Blog</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1ac2c1;
            --primary-dark: #16a8a7;
            --primary-light: #e0f7f7;
            --dark: #0f172a;
            --navy: #1e293b;
            --gray: #64748b;
            --light-gray: #f8fafc;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "Inter", sans-serif; color: var(--dark); line-height: 1.6; background: var(--light-gray); }

        /* Navigation Styles */
        .navbar { padding: 0; transition: all 0.3s; background: rgba(255,255,255,0.98); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(0,0,0,0.05); height: 80px; }
        .navbar.scrolled { box-shadow: 0 4px 30px rgba(0,0,0,0.08); }
        .navbar-brand img { height: 80px; width: 200px; object-fit: contain; }
        .nav-link { font-weight: 600; color: var(--navy); margin: 0 0.6rem; font-size: 0.9rem; padding: 2rem 0.5rem !important; }
        .nav-link:hover { color: var(--primary); }
        .dropdown-menu { border: none; box-shadow: 0 20px 50px rgba(0,0,0,0.15); border-radius: 12px; padding: 1rem; min-width: 280px; border-top: 3px solid var(--primary); }
        .dropdown-menu.mega-menu { min-width: 600px; padding: 1.5rem; }
        .dropdown-item { padding: 0.6rem 1rem; border-radius: 8px; font-size: 0.9rem; font-weight: 500; color: var(--navy); transition: all 0.3s; display: flex; align-items: center; gap: 10px; }
        .dropdown-item:hover { background: var(--primary-light); color: var(--primary); transform: translateX(5px); }
        .dropdown-item i { color: var(--primary); }
        .dropdown-header { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; color: var(--primary); }
        .btn-sales { background: var(--primary); color: white !important; padding: 0.6rem 1.5rem; border-radius: 6px; font-weight: 600; margin-left: 1rem; box-shadow: 0 4px 15px rgba(26,194,193,0.3); }
        .btn-login { background: #fff !important; color: #00bfa5 !important; border: 1px solid #00bfa5 !important; padding: 8px 24px; border-radius: 6px; font-weight: 500; margin: 12px; }
        .country-selector { display: flex; align-items: center; gap: 6px; padding: 0.5rem; border-radius: 6px; border: 1px solid #e2e8f0; font-size: 0.85rem; font-weight: 600; cursor: pointer; margin-left: 1rem; }

        /* Blog Listing Styles */
        .blog-hero { padding: 100px 0 60px; background: linear-gradient(135deg, #f0fdfa 0%, #fff 50%, #ccfbf1 100%); position: relative; }
        .blog-hero::before { content: ""; position: absolute; top: -20%; right: -10%; width: 600px; height: 600px; background: radial-gradient(circle, rgba(26,194,193,0.1) 0%, transparent 70%); border-radius: 50%; }
        .hero-badge { display: inline-flex; align-items: center; gap: 8px; padding: 0.6rem 1.2rem; background: rgba(26,194,193,0.1); color: var(--primary-dark); border-radius: 50px; font-size: 0.95rem; font-weight: 700; margin-bottom: 1.5rem; border: 1px solid rgba(26,194,193,0.2); }
        .blog-hero h1 { font-size: 3.5rem; font-weight: 800; line-height: 1.1; margin-bottom: 1.5rem; color: var(--dark); }
        .categories-filter { padding: 40px 0; background: white; border-bottom: 1px solid #e2e8f0; position: sticky; top: 0; z-index: 100; }
        .category-btn { display: inline-flex; align-items: center; gap: 8px; padding: 0.75rem 1.5rem; background: white; border: 2px solid #e2e8f0; border-radius: 50px; font-weight: 600; color: var(--navy); margin: 0.25rem; cursor: pointer; font-size: 0.9rem; transition: all 0.3s; }
        .category-btn:hover, .category-btn.active { background: var(--primary); border-color: var(--primary); color: white; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(26,194,193,0.3); }
        .blog-section { padding: 60px 0; }
        .blog-card { background: white; border-radius: 20px; overflow: hidden; border: 1px solid #e2e8f0; transition: all 0.4s; height: 100%; display: flex; flex-direction: column; cursor: pointer; }
        .blog-card:hover { transform: translateY(-8px); box-shadow: 0 25px 50px rgba(0,0,0,0.1); border-color: var(--primary); }
        .blog-image { height: 240px; position: relative; overflow: hidden; background: linear-gradient(135deg, #e0f7f7, #dbeafe); }
        .blog-image img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .blog-card:hover .blog-image img { transform: scale(1.05); }
        .category-tag { position: absolute; top: 1rem; left: 1rem; padding: 0.4rem 1rem; background: var(--primary); color: white; border-radius: 50px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; z-index: 2; }
        .blog-content { padding: 1.5rem; flex: 1; display: flex; flex-direction: column; }
        .post-meta { display: flex; align-items: center; gap: 1rem; margin-bottom: 0.75rem; color: var(--gray); font-size: 0.85rem; }
        .blog-content h3 { font-size: 1.25rem; font-weight: 700; margin-bottom: 0.75rem; line-height: 1.4; color: var(--dark); }
        .blog-content p { color: var(--gray); font-size: 0.95rem; line-height: 1.6; margin-bottom: 1rem; flex: 1; }
        .read-more { display: inline-flex; align-items: center; gap: 8px; color: var(--primary); font-weight: 700; font-size: 0.9rem; }

        /* Single Post Styles */
        .single-post-view { display: none; padding: 100px 0 60px; background: linear-gradient(135deg, #f0fdfa 0%, #fff 50%, #ccfbf1 100%); min-height: 100vh; }
        .single-post-view.active { display: block; }
        .post-category-single { display: inline-flex; align-items: center; gap: 8px; padding: 0.6rem 1.2rem; background: var(--primary); color: white; border-radius: 50px; font-size: 0.85rem; font-weight: 700; text-transform: uppercase; margin-bottom: 1.5rem; }
        .post-title-single { font-size: 2.5rem; font-weight: 800; line-height: 1.2; margin-bottom: 1.5rem; color: var(--dark); }
        .post-meta-single { display: flex; align-items: center; gap: 2rem; color: var(--gray); font-size: 0.95rem; margin-bottom: 2rem; flex-wrap: wrap; }
        .author-info { display: flex; align-items: center; gap: 12px; }
        .author-avatar { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; border: 3px solid white; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .featured-image-single { width: 100%; max-width: 1000px; height: 400px; object-fit: cover; border-radius: 20px; margin: 0 auto 3rem; display: block; box-shadow: 0 25px 50px rgba(0,0,0,0.15); }
        .post-content-single { max-width: 800px; margin: 0 auto; font-size: 1.125rem; line-height: 1.8; color: var(--navy); }
        .post-content-single p { margin-bottom: 1.5rem; }
        .post-content-single h2 { font-size: 2rem; font-weight: 700; margin: 2.5rem 0 1rem; color: var(--dark); }
        .post-content-single h3 { font-size: 1.5rem; font-weight: 600; margin: 2rem 0 1rem; color: var(--dark); }
        .post-content-single img { max-width: 100%; height: auto; border-radius: 12px; margin: 2rem 0; }
        .btn-back { display: inline-flex; align-items: center; gap: 8px; background: var(--primary); color: white; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; margin-top: 2rem; transition: all 0.3s; border: none; cursor: pointer; }
        .btn-back:hover { background: var(--primary-dark); transform: translateY(-2px); color: white; }

        /* Loading & Error States */
        .loading-skeleton { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; border-radius: 12px; height: 400px; }
        @keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
        .error-message { text-align: center; padding: 60px 20px; color: var(--gray); }
        .no-posts { text-align: center; padding: 60px 20px; color: var(--gray); }
        .load-more-container { text-align: center; margin-top: 3rem; }
        .btn-load-more { background: var(--primary); color: white; border: none; padding: 1rem 2.5rem; border-radius: 50px; font-weight: 700; font-size: 1rem; cursor: pointer; transition: all 0.3s; }
        .btn-load-more:hover { background: var(--primary-dark); transform: translateY(-2px); box-shadow: 0 8px 25px rgba(26,194,193,0.4); }

        /* Footer */
        .footer { background: #f0fdfa; color: var(--dark); padding: 80px 0 40px; }
        .whatsapp-float { position: fixed; bottom: 30px; right: 30px; background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; box-shadow: 0 4px 20px rgba(37,211,102,0.4); z-index: 9999; transition: all 0.3s; border: 3px solid rgba(255,255,255,0.3); cursor: pointer; }
        .whatsapp-float:hover { transform: scale(1.1) rotate(10deg); color: white; }

        @media (max-width: 768px) {
            .blog-hero h1, .post-title-single { font-size: 2rem; }
            .featured-image-single { height: 250px; }
            .post-meta-single { gap: 1rem; }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <img src="https://www.verifitech.com/wp-content/uploads/2022/05/verifitech-logo.svg" alt="Verifitech">
            </a>
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Solutions</a>
                        <div class="dropdown-menu mega-menu">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6 class="dropdown-header">Verification Services</h6>
                                    <a href="../checks/lp-id verification.html" class="dropdown-item"><i class="bi bi-person-badge"></i> ID Verification</a>
                                    <a href="../checks/lp-employment.html" class="dropdown-item"><i class="bi bi-briefcase"></i> Employment Verification</a>
                                    <a href="../checks/lp-education check.html" class="dropdown-item"><i class="bi bi-mortarboard"></i> Education Verification</a>
                                </div>
                                <div class="col-md-6">
                                    <h6 class="dropdown-header">Specialized Checks</h6>
                                    <a href="../checks/lp-global database.html" class="dropdown-item"><i class="bi bi-globe"></i> Global Database</a>
                                    <a href="../checks/lp-credit check.html" class="dropdown-item"><i class="bi bi-credit-card"></i> Credit Check</a>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Resources</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#"><i class="bi bi-journal-text"></i> Blogs</a></li>
                            <li><a class="dropdown-item" href="#"><i class="bi bi-file-earmark-text"></i> Whitepapers</a></li>
                        </ul>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <a href="https://web.verifitech.com/" target="_blank" class="btn btn-login">Login</a>
                    <a href="../contact/contact.html" class="btn btn-sales">Talk to Sales</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- BLOG LISTING VIEW -->
    <div id="blogListingView">
        <!-- Hero -->
        <section class="blog-hero">
            <div class="container">
                <div class="row justify-content-center text-center">
                    <div class="col-lg-8">
                        <div class="hero-badge"><i class="bi bi-journal-text"></i> Insights & Resources</div>
                        <h1>Verifitech Blog</h1>
                        <p class="lead text-muted">Expert perspectives on background verification, compliance, and risk management.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categories -->
        <section class="categories-filter">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-10 text-center">
                        <button class="category-btn active" data-category="all"><i class="bi bi-grid-fill"></i> All Topics</button>
                        <button class="category-btn" data-category="case-studies"><i class="bi bi-briefcase-fill"></i> Case Studies</button>
                        <button class="category-btn" data-category="it-ites"><i class="bi bi-laptop"></i> IT - ITES</button>
                        <button class="category-btn" data-category="healthcare"><i class="bi bi-heart-pulse"></i> Healthcare</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Blog Grid -->
        <section class="blog-section">
            <div class="container">
                <div id="blogGrid" class="row g-4"></div>
                <div class="load-more-container" id="loadMoreContainer" style="display: none;">
                    <button class="btn-load-more" onclick="loadMorePosts()">Load More Articles <i class="bi bi-arrow-down"></i></button>
                </div>
            </div>
        </section>
    </div>

    <!-- SINGLE POST VIEW (Hidden by default) -->
    <div id="singlePostView" class="single-post-view">
        <div class="container">
            <!-- Loading State -->
            <div id="singlePostLoading" class="text-center py-5">
                <div class="spinner-border text-primary" role="status"></div>
                <p class="mt-3">Loading article...</p>
            </div>

            <!-- Error State -->
            <div id="singlePostError" class="error-message" style="display: none;">
                <i class="bi bi-exclamation-circle" style="font-size: 3rem; color: #ef4444;"></i>
                <h3>Article Not Found</h3>
                <p>The article you're looking for doesn't exist.</p>
                <button class="btn-back" onclick="showBlogListing()"><i class="bi bi-arrow-left"></i> Back to Blog</button>
            </div>

            <!-- Post Content -->
            <div id="singlePostContent" style="display: none;">
                <div class="text-center mb-4">
                    <span class="post-category-single" id="spCategory">Category</span>
                    <h1 class="post-title-single" id="spTitle">Post Title</h1>
                    <div class="post-meta-single justify-content-center">
                        <span id="spDate"><i class="bi bi-calendar3"></i> Date</span>
                        <span id="spReadTime"><i class="bi bi-clock"></i> Read time</span>
                        <div class="author-info">
                            <img src="" alt="" class="author-avatar" id="spAuthorImg">
                            <span id="spAuthorName">Author</span>
                        </div>
                    </div>
                </div>
                
                <img src="" alt="" class="featured-image-single" id="spImage">
                
                <article class="post-content-single" id="spBody">
                    <!-- Content injected here -->
                </article>

                <div class="text-center">
                    <button class="btn-back" onclick="showBlogListing()"><i class="bi bi-arrow-left"></i> Back to All Articles</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <img src="https://www.verifitech.com/wp-content/uploads/2022/05/verifitech-logo.svg" alt="Verifitech" style="width: 180px; margin-bottom: 20px;">
                    <p style="color: var(--gray); font-size: 14px;">India's most trusted employment verification platform.</p>
                </div>
            </div>
            <div style="margin-top: 40px; padding-top: 30px; border-top: 1px solid #cbd5e1; text-align: center;">
                <p style="color: var(--gray); font-size: 14px;">Â© 2026 Verifitech Solutions Private Limited. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- WhatsApp -->
    <a href="#" class="whatsapp-float" onclick="openWhatsApp(event)"><i class="bi bi-whatsapp" style="font-size: 1.8rem;"></i></a>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        const WP_API_URL = 'https://verifitech.com/wp-json/wp/v2';
        let currentPage = 1;
        let currentCategory = 'all';
        let isLoading = false;

        const categoryMap = {
            'case-studies': 10,
            'healthcare': 220,
            'it-ites': 224,
            'manufacturing': 221,
            'news-events': 11
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Check if URL has hash for single post
            if (window.location.hash.startsWith('#post-')) {
                const postId = window.location.hash.replace('#post-', '');
                showSinglePost(postId);
            } else {
                fetchPosts();
            }
            setupCategoryFilters();
        });

        // Show/Hide Views
        function showBlogListing() {
            document.getElementById('blogListingView').style.display = 'block';
            document.getElementById('singlePostView').classList.remove('active');
            window.location.hash = '';
            window.scrollTo(0, 0);
        }

        async function showSinglePost(postId) {
            document.getElementById('blogListingView').style.display = 'none';
            document.getElementById('singlePostView').classList.add('active');
            document.getElementById('singlePostLoading').style.display = 'block';
            document.getElementById('singlePostError').style.display = 'none';
            document.getElementById('singlePostContent').style.display = 'none';
            
            window.location.hash = `post-${postId}`;
            window.scrollTo(0, 0);

            try {
                const response = await fetch(`${WP_API_URL}/posts/${postId}?_embed=wp:featuredmedia,wp:term,author`);
                if (!response.ok) throw new Error('Post not found');
                
                const post = await response.json();
                renderSinglePost(post);
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('singlePostLoading').style.display = 'none';
                document.getElementById('singlePostError').style.display = 'block';
            }
        }

        function renderSinglePost(post) {
            // Get data
            let imageUrl = 'https://via.placeholder.com/1200x600/e0f7f7/1ac2c1?text=Verifitech';
            if (post._embedded?.['wp:featuredmedia']?.[0]) {
                imageUrl = post._embedded['wp:featuredmedia'][0].source_url;
            }

            let categoryName = 'General';
            if (post._embedded?.['wp:term']) {
                const cats = post._embedded['wp:term'].find(t => t[0]?.taxonomy === 'category');
                if (cats?.[0]) categoryName = cats[0].name;
            }

            let authorName = 'Verifitech Team';
            let authorImg = 'https://via.placeholder.com/100x100/1ac2c1/ffffff?text=V';
            if (post._embedded?.author?.[0]) {
                authorName = post._embedded.author[0].name;
                authorImg = post._embedded.author[0].avatar_urls?.['96'] || authorImg;
            }

            const date = new Date(post.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            const readTime = Math.ceil(post.content.rendered.split(/\s+/).length / 200);

            // Update DOM
            document.getElementById('spCategory').textContent = categoryName;
            document.getElementById('spTitle').textContent = post.title.rendered;
            document.getElementById('spDate').innerHTML = `<i class="bi bi-calendar3"></i> ${date}`;
            document.getElementById('spReadTime').innerHTML = `<i class="bi bi-clock"></i> ${readTime} min read`;
            document.getElementById('spAuthorName').textContent = authorName;
            document.getElementById('spAuthorImg').src = authorImg;
            document.getElementById('spImage').src = imageUrl;
            document.getElementById('spBody').innerHTML = post.content.rendered;
            document.title = `${post.title.rendered} - Verifitech Blog`;

            // Show content
            document.getElementById('singlePostLoading').style.display = 'none';
            document.getElementById('singlePostContent').style.display = 'block';
        }

        // Blog Listing Functions
        function setupCategoryFilters() {
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    e.currentTarget.classList.add('active');
                    currentCategory = e.currentTarget.dataset.category;
                    currentPage = 1;
                    fetchPosts(true);
                });
            });
        }

        async function fetchPosts(reset = false) {
            if (isLoading) return;
            isLoading = true;
            const grid = document.getElementById('blogGrid');
            
            if (reset) grid.innerHTML = '<div class="col-12"><div class="loading-skeleton"></div></div>'.repeat(3);

            try {
                let url = `${WP_API_URL}/posts?per_page=9&page=${currentPage}&_embed=wp:featuredmedia,wp:term,author`;
                if (currentCategory !== 'all' && categoryMap[currentCategory]) {
                    url += `&categories=${categoryMap[currentCategory]}`;
                }

                const response = await fetch(url);
                const posts = await response.json();
                
                if (reset) grid.innerHTML = '';
                
                posts.forEach(post => {
                    const card = createBlogCard(post);
                    grid.appendChild(card);
                });

                document.getElementById('loadMoreContainer').style.display = posts.length === 9 ? 'block' : 'none';

            } catch (error) {
                console.error('Error:', error);
                if (reset) grid.innerHTML = '<div class="col-12 error-message"><h3>Failed to load posts</h3></div>';
            } finally {
                isLoading = false;
            }
        }

        function createBlogCard(post) {
            const col = document.createElement('div');
            col.className = 'col-md-6 col-lg-4';
            
            let imageUrl = 'https://via.placeholder.com/600x400/e0f7f7/1ac2c1?text=Verifitech';
            if (post._embedded?.['wp:featuredmedia']?.[0]) {
                imageUrl = post._embedded['wp:featuredmedia'][0].source_url;
            }

            let categoryName = 'General';
            if (post._embedded?.['wp:term']) {
                const cats = post._embedded['wp:term'].find(t => t[0]?.taxonomy === 'category');
                if (cats?.[0]) categoryName = cats[0].name;
            }

            const date = new Date(post.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            const excerpt = stripHtml(post.excerpt.rendered).substring(0, 120) + '...';

            col.innerHTML = `
                <article class="blog-card" onclick="showSinglePost(${post.id})">
                    <div class="blog-image">
                        <span class="category-tag">${categoryName}</span>
                        <img src="${imageUrl}" alt="${post.title.rendered}" loading="lazy">
                    </div>
                    <div class="blog-content">
                        <div class="post-meta">
                            <span><i class="bi bi-calendar3"></i> ${date}</span>
                        </div>
                        <h3>${post.title.rendered}</h3>
                        <p>${excerpt}</p>
                        <span class="read-more">Read Article <i class="bi bi-arrow-right"></i></span>
                    </div>
                </article>
            `;
            return col;
        }

        function loadMorePosts() {
            currentPage++;
            fetchPosts();
        }

        function stripHtml(html) {
            const tmp = document.createElement('div');
            tmp.innerHTML = html;
            return tmp.textContent || '';
        }

        function openWhatsApp(e) {
            e.preventDefault();
            const msg = encodeURIComponent(`Hi Verifitech Team, I'm interested in your services.\n\nCurrent page: ${window.location.href}`);
            window.open(`https://wa.me/+919176663777?text=${msg}`, '_blank');
        }

        // Navbar scroll
        window.addEventListener('scroll', () => {
            document.querySelector('.navbar').classList.toggle('scrolled', window.scrollY > 50);
        });
    </script>
</body>
</html>
